"use strict";(self.webpackChunkuse_state_machine=self.webpackChunkuse_state_machine||[]).push([[928],{3012:function(e,t,a){a.r(t),a.d(t,{frontMatter:function(){return i},contentTitle:function(){return l},metadata:function(){return p},toc:function(){return d},default:function(){return m}});var n=a(2122),r=a(9756),o=(a(7294),a(3905)),s=["components"],i={sidebar_position:3,title:"Upgrading from 0.x.x"},l=void 0,p={unversionedId:"upgrading-from-0xx",id:"upgrading-from-0xx",isDocsHomePage:!1,title:"Upgrading from 0.x.x",description:"Version 1.0 introduces a few API changes:",source:"@site/docs/upgrading-from-0xx.md",sourceDirName:".",slug:"/upgrading-from-0xx",permalink:"/docs/upgrading-from-0xx",editUrl:"https://github.com/cassiozen/useStateMachine/edit/main/docs/docs/upgrading-from-0xx.md",version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3,title:"Upgrading from 0.x.x"},sidebar:"defaultSidebar",previous:{title:"API",permalink:"/docs/api"}},d=[{value:"New Context Configuration:",id:"new-context-configuration",children:[]},{value:"<code>effects</code> and <code>guards</code>:",id:"effects-and-guards",children:[]}],c={toc:d};function m(e){var t=e.components,a=(0,r.Z)(e,s);return(0,o.kt)("wrapper",(0,n.Z)({},c,a,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"Version 1.0 introduces a few API changes:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"No more curried function: Extended state is now declared within the State Machine configuration object"),(0,o.kt)("li",{parentName:"ul"},"New signature for ",(0,o.kt)("inlineCode",{parentName:"li"},"effects")," and ",(0,o.kt)("inlineCode",{parentName:"li"},"guards"))),(0,o.kt)("h2",{id:"new-context-configuration"},"New Context Configuration:"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Before")),(0,o.kt)("div",{className:"shiki-twoslash-fragment"},(0,o.kt)("pre",{parentName:"div",className:"shiki min-light",style:{backgroundColor:"#ffffff",color:"#24292eff"}},(0,o.kt)("div",{parentName:"pre",className:"language-id"},"ts"),(0,o.kt)("div",{parentName:"pre",className:"code-container"},(0,o.kt)("code",{parentName:"div"},(0,o.kt)("div",{parentName:"code",className:"line"},(0,o.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},"const"),(0,o.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," ["),(0,o.kt)("span",{parentName:"div",style:{color:"#1976D2"}},"state"),(0,o.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},", "),(0,o.kt)("span",{parentName:"div",style:{color:"#1976D2"}},"send"),(0,o.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"] "),(0,o.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},"="),(0,o.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," "),(0,o.kt)("span",{parentName:"div",style:{color:"#6F42C1"}},"useStateMachine"),(0,o.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"("),(0,o.kt)("span",{parentName:"div",style:{color:"#C2C3C5"}},"/* Context */"),(0,o.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},")("),(0,o.kt)("span",{parentName:"div",style:{color:"#C2C3C5"}},"/* Configuration */"),(0,o.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},");"))))),(0,o.kt)("pre",{parentName:"div",className:"shiki nord",style:{backgroundColor:"#2e3440ff",color:"#d8dee9ff"}},(0,o.kt)("div",{parentName:"pre",className:"language-id"},"ts"),(0,o.kt)("div",{parentName:"pre",className:"code-container"},(0,o.kt)("code",{parentName:"div"},(0,o.kt)("div",{parentName:"code",className:"line"},(0,o.kt)("span",{parentName:"div",style:{color:"#81A1C1"}},"const"),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,o.kt)("span",{parentName:"div",style:{color:"#ECEFF4"}},"["),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9"}},"state"),(0,o.kt)("span",{parentName:"div",style:{color:"#ECEFF4"}},","),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9"}},"send"),(0,o.kt)("span",{parentName:"div",style:{color:"#ECEFF4"}},"]"),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,o.kt)("span",{parentName:"div",style:{color:"#81A1C1"}},"="),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,o.kt)("span",{parentName:"div",style:{color:"#88C0D0"}},"useStateMachine"),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"("),(0,o.kt)("span",{parentName:"div",style:{color:"#616E88"}},"/* Context */"),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},")("),(0,o.kt)("span",{parentName:"div",style:{color:"#616E88"}},"/* Configuration */"),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},")"),(0,o.kt)("span",{parentName:"div",style:{color:"#81A1C1"}},";")))))),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"After")),(0,o.kt)("div",{className:"shiki-twoslash-fragment"},(0,o.kt)("pre",{parentName:"div",className:"shiki min-light",style:{backgroundColor:"#ffffff",color:"#24292eff"}},(0,o.kt)("div",{parentName:"pre",className:"language-id"},"ts"),(0,o.kt)("div",{parentName:"pre",className:"code-container"},(0,o.kt)("code",{parentName:"div"},(0,o.kt)("div",{parentName:"code",className:"line"},(0,o.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},"const"),(0,o.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," ["),(0,o.kt)("span",{parentName:"div",style:{color:"#1976D2"}},"state"),(0,o.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},", "),(0,o.kt)("span",{parentName:"div",style:{color:"#1976D2"}},"send"),(0,o.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"] "),(0,o.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},"="),(0,o.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," "),(0,o.kt)("span",{parentName:"div",style:{color:"#6F42C1"}},"useStateMachine"),(0,o.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"("),(0,o.kt)("span",{parentName:"div",style:{color:"#C2C3C5"}},"/* Configuration (including context) */"),(0,o.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},");"))))),(0,o.kt)("pre",{parentName:"div",className:"shiki nord",style:{backgroundColor:"#2e3440ff",color:"#d8dee9ff"}},(0,o.kt)("div",{parentName:"pre",className:"language-id"},"ts"),(0,o.kt)("div",{parentName:"pre",className:"code-container"},(0,o.kt)("code",{parentName:"div"},(0,o.kt)("div",{parentName:"code",className:"line"},(0,o.kt)("span",{parentName:"div",style:{color:"#81A1C1"}},"const"),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,o.kt)("span",{parentName:"div",style:{color:"#ECEFF4"}},"["),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9"}},"state"),(0,o.kt)("span",{parentName:"div",style:{color:"#ECEFF4"}},","),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9"}},"send"),(0,o.kt)("span",{parentName:"div",style:{color:"#ECEFF4"}},"]"),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,o.kt)("span",{parentName:"div",style:{color:"#81A1C1"}},"="),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,o.kt)("span",{parentName:"div",style:{color:"#88C0D0"}},"useStateMachine"),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"("),(0,o.kt)("span",{parentName:"div",style:{color:"#616E88"}},"/* Configuration (including context) */"),(0,o.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},")"),(0,o.kt)("span",{parentName:"div",style:{color:"#81A1C1"}},";")))))),(0,o.kt)("h2",{id:"effects-and-guards"},(0,o.kt)("inlineCode",{parentName:"h2"},"effects")," and ",(0,o.kt)("inlineCode",{parentName:"h2"},"guards"),":"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Both functions receive a single object with multiple keys instead of multiple parameters."),(0,o.kt)("li",{parentName:"ul"},"Effects now receive the context."),(0,o.kt)("li",{parentName:"ul"},"The context updater function inside ",(0,o.kt)("inlineCode",{parentName:"li"},"effect")," is now called ",(0,o.kt)("inlineCode",{parentName:"li"},"setContext")," instead of ",(0,o.kt)("inlineCode",{parentName:"li"},"update"),".")),(0,o.kt)("p",null,"Here's a diff between the fetch example on versions 0.x.x and 1.0.0:"),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://user-images.githubusercontent.com/33676/121916961-3d768580-ccfa-11eb-9099-d6ba74fd6018.png",alt:"Diff"})))}m.isMDXComponent=!0}}]);